<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignUp Form - MongoDB</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="profile.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>

  <div class="wrapper">
    <div class="title-text">
      <div class="title login">User Profile Information</div>
    </div>
    <div class="form-container">
      <div class="form-inner">
        <div class="row">
          <div class="column">
                <form id="signupForm">
                    

                    <div class="field">
                      <input type="text" id="name" name="name" placeholder="Name" required>
                    </div>
                    <div class="field">
                      <input type="number" id="age" name="age" placeholder="Age" min="7" required>
                    </div>
                    <div class="field">
                      <input type="text" id="gender" name="gender" placeholder="Gender" required>
                    </div>
                    <div class="field">
                      <input type="date" id="dob" name="dob" placeholder="Date of Birth" required>
                    </div>
                    <div class="field">
                      <input type="text" id="email" name="email" placeholder="Email" required>
                    </div>
                    <div class="field">
                      <input type="tel" id="contact" name="contact" placeholder="Contact Number" required>
                    </div>
                    <div class="field btn">
                      <div class="btn-layer"></div>
                      <input type="submit" value="Cancel" id="Cancel" />
                    </div>
                    </form>
                    </div>
            
                    <div class="column">
                      <form action="profile.php" class="login" method="post" onsubmit="">
                      <!-- Right column content -->


                    <div class="field">
                      <input type="text" id="address1" name="address1" placeholder="Address 1" required>
                    </div>
                    <div class="field">
                      <input type="text" id="state" name="state" placeholder="State" required>
                    </div>
                    <div class="field">
                      <input type="text" id="country" name="country" placeholder="Country" required>
                    </div>
                    <div class="field">
                      <input type="text" id="pincode" name="pincode" placeholder="Pincode" required>
                    </div>
                    <div class="field btn">
                      <div class="btn-layer"></div>
                      <input type="submit" value="Submit" id="submit" onclick="submitForm()" />
                    </div>



                    
                  
                </form>
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>

    <script>
        function submitForm() {
            var formData = {
                name: $("#name").val(),
                email: $("#email").val(),
                contact: $("#contact").val(),
                pincode: $("#pincode").val(),
                country: $("#country").val(),
                state: $("#state").val(),
                address1: $("#address1").val(),
                dob: $("#dob").val(),
                gender: $("#gender").val(),
                age: $("#age").val(),
            };

            $.ajax({
                type: "POST",
                url: "/sign_up",
                data: formData,
                success: function (response) {
                    alert(response.message);
                    window.location.href = 'signup_success.html';
                },
                error: function (err) {
                    console.log(err);
                    alert("Error submitting the form");
                }
            });
        }
    </script>

</body>

</html>
